<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <style>
        * {
            box-sizing: border-box;
        }

        p {
            margin: 40px auto;
            max-width: 800px;
            /* color: white; */
            font-family: system-ui, -apple-system, BlinkMacSystemFont,
                'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans',
                'Helvetica Neue', sans-serif;
        }
    </style>
    <body>
        <p>
            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Ipsam
            alias molestias repellendus laborum perferendis. Culpa quos
            inventore debitis nobis aspernatur fugit veniam eos aut. Maiores
            numquam dolore atque vitae est!
        </p>

        <polar-code id="code"></polar-code>
    </body>
    <script type="module">
        import './component.js'

        const content = `function resolveAfter2Seconds(x) {
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve(x);
    }, 2000);
  });
}

// async function expression assigned to a variable
const add = async function (x) {
  const a = await resolveAfter2Seconds(20);
  const b = await resolveAfter2Seconds(30);
  return x + a + b;
};

add(10).then((v) => {
  console.log(v); // prints 60 after 4 seconds.
});

// async function expression used as an IIFE
(async function (x) {
  const p1 = resolveAfter2Seconds(20);
  const p2 = resolveAfter2Seconds(30);
  return x + (await p1) + (await p2);
})(10).then((v) => {
  console.log(v); // prints 60 after 2 seconds.
});`

        const c = document.getElementById('code')
        c.showCode(content)
    </script>
</html>
